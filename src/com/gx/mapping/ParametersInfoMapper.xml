<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.gx.dao.ParametersInfoDao">
    <resultMap id="BaseargMap" type="com.gx.po.Parametersinfo">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Sun Oct 16 19:18:30 CST 2016.
        -->
        <constructor>
            <idArg column="id" jdbcType="INTEGER" javaType="java.lang.Integer"/>
            <arg column="holeSize" jdbcType="VARCHAR" javaType="java.lang.String" />
            <arg column="doorSize" jdbcType="VARCHAR" javaType="java.lang.String" />
            <arg column="direction" jdbcType="VARCHAR" javaType="java.lang.String" />
            <arg column="indoorInfo" jdbcType="VARCHAR" javaType="java.lang.String" />
            <arg column="surveyor" jdbcType="VARCHAR" javaType="java.lang.String" />
            <arg column="surveyorSmark" jdbcType="VARCHAR" javaType="java.lang.String" />
            <arg column="surveyorDate" jdbcType="TIMESTAMP" javaType="java.util.Date" />
            <arg column="woodcase" jdbcType="VARCHAR" javaType="java.lang.String" />
            <arg column="moundlayer" jdbcType="VARCHAR" javaType="java.lang.String" />
            <arg column="installPerson" jdbcType="VARCHAR" javaType="java.lang.String" />
            <arg column="installPerSmark" jdbcType="VARCHAR" javaType="java.lang.String" />
            <arg column="installDate" jdbcType="TIMESTAMP" javaType="java.util.Date" />
            <arg column="surveyorPhotoPath" jdbcType="VARCHAR" javaType="java.lang.String" />
            <arg column="istallPhotoPath" jdbcType="VARCHAR" javaType="java.lang.String" />
            <arg column="otherSmark" jdbcType="VARCHAR" javaType="java.lang.String" />
            <arg column="agreementID" jdbcType="VARCHAR" javaType="java.lang.String" />
            <arg column="operatorID" jdbcType="VARCHAR" javaType="java.lang.String"/>
            <arg column="storeID" jdbcType="VARCHAR" javaType="java.lang.String"/>
            <arg column="roleID" jdbcType="VARCHAR" javaType="java.lang.String"/>
            <arg column="merName" jdbcType="VARCHAR" javaType="java.lang.String"/>
            <arg column="createDate" jdbcType="TIMESTAMP" javaType="java.util.Date" />
            <arg column="updateDate" jdbcType="TIMESTAMP" javaType="java.util.Date" />
            <arg column="surveyorPhotoDes" jdbcType="VARCHAR" javaType="java.lang.String"/>
            <arg column="istallPhotoDes" jdbcType="VARCHAR" javaType="java.lang.String"/>
            <arg column="surveyorPhotoName" jdbcType="VARCHAR" javaType="java.lang.String"/>
            <arg column="istallPhotoName" jdbcType="VARCHAR" javaType="java.lang.String"/>
            <arg column="cutInfo" jdbcType="VARCHAR" javaType="java.lang.String"/>
            <arg column="fixDate" jdbcType="TIMESTAMP" javaType="java.util.Date" />
            <arg column="fixObject" jdbcType="VARCHAR" javaType="java.lang.String"/>
            <arg column="fixSmarkOne" jdbcType="VARCHAR" javaType="java.lang.String"/>
            <arg column="fixSmarkTwo" jdbcType="VARCHAR" javaType="java.lang.String"/>
            <arg column="yaKouInstallDate" jdbcType="TIMESTAMP" javaType="java.util.Date" />
            <arg column="colorRequire" jdbcType="VARCHAR" javaType="java.lang.String"/>
            <arg column="doorBottomInfo" jdbcType="VARCHAR" javaType="java.lang.String"/>
            <arg column="yaKouSmark" jdbcType="VARCHAR" javaType="java.lang.String"/>
		    <arg column="genderID" jdbcType="INTEGER" javaType="java.lang.Integer" />
		    <arg column="contactPhoneNumber" jdbcType="VARCHAR" javaType="java.lang.String" />
		    <arg column="unitsOrAddress" jdbcType="VARCHAR" javaType="java.lang.String" />
		    <arg column="remarks" jdbcType="VARCHAR" javaType="java.lang.String" />
        	<arg column="secondPhoneNumber" jdbcType="VARCHAR" javaType="java.lang.String" />
            <arg column="paymentID" jdbcType="VARCHAR" javaType="java.lang.String"/>
            <arg column="model" jdbcType="VARCHAR" javaType="java.lang.String"/>
            <arg column="price" jdbcType="DECIMAL" javaType="java.math.BigDecimal"/>
            <arg column="deposit" jdbcType="DECIMAL" javaType="java.math.BigDecimal"/>
            <arg column="playDate" jdbcType="TIMESTAMP" javaType="java.lang.Integer"/>
            <arg column="payDate" jdbcType="TIMESTAMP" javaType="java.util.Date"/>
            <arg column="smartLock" jdbcType="VARCHAR" javaType="java.lang.String"/>
            <arg column="smartCatEye" jdbcType="VARCHAR" javaType="java.lang.String"/>
            <arg column="operatorID" jdbcType="VARCHAR" javaType="java.lang.String"/>
            <arg column="dateMoney" jdbcType="VARCHAR" javaType="java.lang.String"/>
            <arg column="agreementPhotoPath" jdbcType="VARCHAR" javaType="java.lang.String"/>
            <arg column="agreementPhotoName" jdbcType="VARCHAR" javaType="java.lang.String"/>
            <arg column="agreementPhotoDes" jdbcType="VARCHAR" javaType="java.lang.String"/>
            <arg column="transAcctSmark" jdbcType="VARCHAR" javaType="java.lang.String"/>
        </constructor>
    </resultMap>

    <select id="selectByAgreementID" resultType="java.lang.Integer" parameterType="java.lang.String">
    Select count(*) From parametersInfo Where agreementID = #{agreementID,jdbcType=VARCHAR}
  </select>
    <!--   新增 -->
    <insert id="insertAll" useGeneratedKeys="true" keyProperty="id" parameterType="com.gx.po.Parametersinfo">
       INSERT INTO parametersInfo (holeSize,doorSize,direction,indoorInfo,surveyor,surveyorSmark,surveyorDate,woodcase,moundlayer,
       installPerson,installPerSmark,installDate,surveyorPhotoPath,istallPhotoPath,otherSmark,agreementID,storeID,
       roleID,merName,createDate,updateDate,surveyorPhotoDes,istallPhotoDes,surveyorPhotoName,istallPhotoName,cutInfo,fixDate,
       fixObject,fixSmarkOne,fixSmarkTwo,yaKouInstallDate,colorRequire,doorBottomInfo,yaKouSmark,
       genderID,contactPhoneNumber,unitsOrAddress,remarks,secondPhoneNumber,
       paymentID,model,price,deposit,playDate,payDate,smartLock,smartCatEye,operatorID,dateMoney,agreementPhotoPath,
       agreementPhotoName,agreementPhotoDes,transAcctSmark)
     values (#{holeSize,jdbcType=VARCHAR},
		     #{doorSize,jdbcType=VARCHAR},
		     #{direction,jdbcType=VARCHAR},
		     #{indoorInfo,jdbcType=VARCHAR},
		     #{surveyor,jdbcType=VARCHAR},
		     #{surveyorSmark,jdbcType=VARCHAR},
		     #{surveyorDate,jdbcType=TIMESTAMP},
		     #{woodcase,jdbcType=VARCHAR},
		     #{moundlayer,jdbcType=VARCHAR},
		     #{installPerson,jdbcType=VARCHAR},
		     #{installPerSmark,jdbcType=VARCHAR},
		     #{installDate,jdbcType=TIMESTAMP},
		     #{surveyorPhotoPath,jdbcType=VARCHAR},
		     #{istallPhotoPath,jdbcType=VARCHAR},
		     #{otherSmark,jdbcType=VARCHAR},
		     #{agreementID,jdbcType=VARCHAR},
             #{storeID,jdbcType=VARCHAR},
             #{roleID,jdbcType=VARCHAR},
             #{merName,jdbcType=VARCHAR},
             #{createDate,jdbcType=TIMESTAMP},
             #{updateDate,jdbcType=TIMESTAMP},
             #{surveyorPhotoDes,jdbcType=VARCHAR},
             #{istallPhotoDes,jdbcType=VARCHAR},
             #{surveyorPhotoName,jdbcType=VARCHAR},
             #{istallPhotoName,jdbcType=VARCHAR},
             #{cutInfo,jdbcType=VARCHAR},
             #{fixDate,jdbcType=TIMESTAMP},
             #{fixObject,jdbcType=VARCHAR},
             #{fixSmarkOne,jdbcType=VARCHAR},
             #{fixSmarkTwo,jdbcType=VARCHAR},
             #{yaKouInstallDate,jdbcType=TIMESTAMP},
             #{colorRequire,jdbcType=VARCHAR},
             #{doorBottomInfo,jdbcType=VARCHAR},
             #{yaKouSmark,jdbcType=VARCHAR},
             #{genderID,jdbcType=VARCHAR},
             #{contactPhoneNumber,jdbcType=VARCHAR},
             #{unitsOrAddress,jdbcType=VARCHAR},
             #{remarks,jdbcType=VARCHAR},
             #{secondPhoneNumber,jdbcType=VARCHAR},
		     #{paymentID,jdbcType=VARCHAR},
		     #{model,jdbcType=VARCHAR},
		     #{price,jdbcType=DECIMAL},
		     #{deposit,jdbcType=DECIMAL},
		     #{playDate,jdbcType=TIMESTAMP},
		     #{payDate,jdbcType=TIMESTAMP},
		     #{smartLock,jdbcType=VARCHAR},
		     #{smartCatEye,jdbcType=VARCHAR},
		     #{operatorID,jdbcType=VARCHAR},
		     #{dateMoney,jdbcType=VARCHAR},
		     #{agreementPhotoPath,jdbcType=VARCHAR},
		     #{agreementPhotoName,jdbcType=VARCHAR},
		     #{agreementPhotoDes,jdbcType=VARCHAR},
		     #{transAcctSmark,jdbcType=VARCHAR}
		     )
  </insert>
    <!--   修改要用的精确查询 -->
    <select id="selectById" resultType="com.gx.po.Parametersinfo" parameterType="java.lang.Integer">
    select * from parametersInfo where id=#{id,jdbcType=INTEGER}
   </select>
   
    <!--    修改 -->
    <update id="updateById" parameterType="com.gx.po.Parametersinfo">
      UPDATE parametersInfo SET holeSize=#{holeSize,jdbcType=VARCHAR},
		     doorSize=#{doorSize,jdbcType=VARCHAR},
		     direction=#{direction,jdbcType=VARCHAR},
		     indoorInfo=#{indoorInfo,jdbcType=VARCHAR},
		     surveyor= #{surveyor,jdbcType=VARCHAR},
		     surveyorSmark=#{surveyorSmark,jdbcType=VARCHAR},
		     surveyorDate=#{surveyorDate,jdbcType=TIMESTAMP},
		     woodcase=#{woodcase,jdbcType=VARCHAR},
		     moundlayer=#{moundlayer,jdbcType=VARCHAR},
		     installPerson=#{installPerson,jdbcType=VARCHAR},
		     installPerSmark=#{installPerSmark,jdbcType=VARCHAR},
		     installDate=#{installDate,jdbcType=TIMESTAMP},
		     otherSmark=#{otherSmark,jdbcType=VARCHAR},
		     agreementID=#{agreementID,jdbcType=VARCHAR},
		     operatorID=#{operatorID,jdbcType=VARCHAR},
            <!--  storeID=#{storeID,jdbcType=VARCHAR},
             roleID=#{roleID,jdbcType=VARCHAR}, -->
             merName=#{merName,jdbcType=VARCHAR},
             updateDate=#{updateDate,jdbcType=TIMESTAMP},
             surveyorPhotoDes=#{surveyorPhotoDes,jdbcType=VARCHAR},
             istallPhotoDes=#{istallPhotoDes,jdbcType=VARCHAR},
             cutInfo=#{cutInfo,jdbcType=VARCHAR},
           	 fixDate=#{fixDate,jdbcType=TIMESTAMP},
             fixObject=#{fixObject,jdbcType=VARCHAR},
             fixSmarkOne=#{fixSmarkOne,jdbcType=VARCHAR},
             fixSmarkTwo=#{fixSmarkTwo,jdbcType=VARCHAR},
             yaKouInstallDate=#{yaKouInstallDate,jdbcType=TIMESTAMP},
             colorRequire=#{colorRequire,jdbcType=VARCHAR},
             doorBottomInfo=#{doorBottomInfo,jdbcType=VARCHAR},
             yaKouSmark=#{yaKouSmark,jdbcType=VARCHAR},
             genderID=#{genderID,jdbcType=VARCHAR},
             contactPhoneNumber=#{contactPhoneNumber,jdbcType=VARCHAR},
             unitsOrAddress=#{unitsOrAddress,jdbcType=VARCHAR},
             remarks=#{remarks,jdbcType=VARCHAR},
             secondPhoneNumber=#{secondPhoneNumber,jdbcType=VARCHAR},
		     paymentID=#{paymentID,jdbcType=VARCHAR},
		     model=#{model,jdbcType=VARCHAR},
		     price=#{price,jdbcType=DECIMAL},
		     deposit=#{deposit,jdbcType=DECIMAL},
		     playDate=#{playDate,jdbcType=TIMESTAMP},
		     payDate=#{payDate,jdbcType=TIMESTAMP},
		     smartLock=#{smartLock,jdbcType=VARCHAR},
		     smartCatEye=#{smartCatEye,jdbcType=VARCHAR},
		     operatorID=#{operatorID,jdbcType=VARCHAR},
		     dateMoney=#{dateMoney,jdbcType=VARCHAR},
             createDate=#{createDate,jdbcType=TIMESTAMP},
		     agreementPhotoDes=#{agreementPhotoDes,jdbcType=VARCHAR},
		     transAcctSmark=#{transAcctSmark,jdbcType=VARCHAR}
		     <if test="agreementPhotoPath != null and agreementPhotoPath != ''">
                ,agreementPhotoPath=#{agreementPhotoPath}
            </if>
            <if test="agreementPhotoName != null and agreementPhotoName != ''">
                ,agreementPhotoName=#{agreementPhotoName}
            </if>
            <if test="surveyorPhotoPath != null and surveyorPhotoPath != ''">
                ,surveyorPhotoPath=#{surveyorPhotoPath}
            </if>
            <if test="istallPhotoPath != null and istallPhotoPath !=''">
                ,istallPhotoPath=#{istallPhotoPath}
            </if>
            <if test="surveyorPhotoName != null and surveyorPhotoName != ''">
                ,surveyorPhotoName=#{surveyorPhotoName}
            </if>
            <if test="istallPhotoName != null and istallPhotoName != ''">
                ,istallPhotoName=#{istallPhotoName}
            </if>
			
            WHERE id = #{id,jdbcType=INTEGER}
   </update>

    <delete id="deleteById" parameterType="java.lang.Integer">
    DELETE FROM parametersInfo WHERE id = #{id,jdbcType=INTEGER}
  </delete>

    <!--   分页查询 -->
    <select id="pageFuzzyselect" resultType="com.gx.po.Parametersinfo">
       SELECT * from parametersInfo

        <where>
            <if test="unitsOrAddress != null and unitsOrAddress != '' ">
                and unitsOrAddress like CONCAT('%',#{unitsOrAddress},'%') 
            </if>
            <if test="beginDate != null">
                and createDate &gt;= #{beginDate}
            </if>
            <if test="endDate != null">
                AND createDate &lt;= #{endDate}
            </if>
            <if test="contactPhoneNumber != null  and contactPhoneNumber != '' ">
                AND contactPhoneNumber like CONCAT('%',#{contactPhoneNumber},'%') 
            </if>
            <!-- <if test="storeID != null  and storeID != '' and roleID != 0 "> -->
            <if test="storeID != null  and storeID != '' ">
                AND storeID = #{storeID}
            </if>
            <if test="installPerson != null  and installPerson != '' ">
                AND installPerson = #{installPerson}
            </if>
        </where>
        order by createDate DESC
        limit #{start},#{pageSize}
  </select>
  
	<select id="statisticsInfo" resultType="com.gx.po.Parametersinfo" parameterType="com.gx.po.Parametersinfo" >
    SELECT count(*) as counts,sum(price) as sumMoney,sum(deposit) as sumDepositMoney from parametersInfo
        <where>
            <if test="beginDate != null">
                and createDate &gt;= #{beginDate}
            </if>
            <if test="endDate != null">
                AND createDate &lt;= #{endDate}
            </if>
            <!-- <if test="storeID != null  and storeID != '' and roleID != 0 ">
                AND storeID = #{storeID}
            </if> -->
            <if test="storeID != null  and storeID != '' ">
                AND storeID = #{storeID}
            </if>
             <if test="contactPhoneNumber != null  and contactPhoneNumber != '' ">
                AND contactPhoneNumber like CONCAT('%',#{contactPhoneNumber},'%') 
            </if>
            <if test="unitsOrAddress != null and unitsOrAddress != '' ">
                and unitsOrAddress like CONCAT('%',#{unitsOrAddress},'%') 
            </if>
            <if test="installPerson != null  and installPerson != '' ">
                AND installPerson = #{installPerson}
            </if>
        </where>
   </select>
   

    <select id="countFuzzyselect" resultType="java.lang.Integer">
       SELECT count(*) FROM parametersInfo
        <where>
            <if test="beginDate != null">
                and createDate &gt;= #{beginDate}
            </if>
            <if test="endDate != null">
                AND createDate &lt;= #{endDate}
            </if>
            <!-- <if test="storeID != null  and storeID != '' and roleID != 0 ">
                AND storeID = #{storeID}
            </if> -->
            <if test="storeID != null  and storeID != '' ">
                AND storeID = #{storeID}
            </if>
             <if test="contactPhoneNumber != null  and contactPhoneNumber != '' ">
                AND contactPhoneNumber like CONCAT('%',#{contactPhoneNumber},'%') 
            </if>
            <if test="unitsOrAddress != null and unitsOrAddress != '' ">
                and unitsOrAddress like CONCAT('%',#{unitsOrAddress},'%') 
            </if>
            <if test="installPerson != null  and installPerson != '' ">
                AND installPerson = #{installPerson}
            </if>
        </where>

  </select>


    <select id="selectYZ" resultType="java.lang.String">
    SELECT COUNT(*) FROM parametersInfo Where roleID=#{roleID}
  </select>

    <!--   查询所有数据  非本派所用 -->
    <select id="selectAll" resultType="com.gx.po.Parametersinfo" parameterType="com.gx.po.Parametersinfo" >
        SELECT * from parametersInfo;
    </select>


    <!--  模糊查询 运用 Ajax 非分页 -->
    <select id="selectAjaxList" resultType="com.gx.po.Parametersinfo">
    SELECT * from parametersInfo
      WHERE userName like CONCAT('%',#{userName,jdbcType=VARCHAR},'%')
   </select>

</mapper>